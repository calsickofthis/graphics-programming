<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Lab 5</title>
    <style type="text/css">
    </style>
    <script src="https://threejs.org/build/three.js"></script>
</head>

<body>
    <script type="text/javascript">

        // create scene and camera
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 0.1, 1000);


        var renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement)


        const geometry = new THREE.TetrahedronGeometry(5, 0);

        // Set Wireframe property
        //MeshLambertMaterial
        //MeshBasicMaterial
        const material = new THREE.MeshLambertMaterial({
            color: 0x800080,//0xffff00,
            wireframe: false
        });
        const tetrahedron = new THREE.Mesh(geometry, material);
        scene.add(tetrahedron);

        // add a spotlight
        var spotLight = new THREE.SpotLight(0xffffff);
        spotLight.position.set(4, 1.1, 3);
        // spotLight.position.set(100, 100, 100);
        scene.add(spotLight);

        // add a spotlight
        var directionalLight = new THREE.DirectionalLight( 0xffffff, 5.9 );
        // directionalLight.position.set()
        // spotLight.position.set(4, 1.1, 3);
        // spotLight.position.set(100, 100, 100);
        scene.add(directionalLight);

        camera.position.z = 10;

        direction_of_travel = true;


        // flat surface
        const ground_geometry = new THREE.PlaneGeometry( -100, 10, 10 );
        const ground_material = new THREE.MeshBasicMaterial( {color: 0x800000,
             side: THREE.DoubleSide
            } );
        // ground_material.position.set(100,100,100);
        const plane = new THREE.Mesh( ground_geometry, ground_material );
        scene.add( plane );

        var repeatMe = function () {
            renderer.render(scene, camera);
            requestAnimationFrame(repeatMe, tetrahedron.rotation.x += 0.1, tetrahedron.rotation.y += 0.1);

            console.log(tetrahedron.position)
            // console.log(direction_of_travel);
            if (direction_of_travel) {
                tetrahedron.position.x -= 0.1
            } else {
                tetrahedron.position.x += 0.1
            }

            if (tetrahedron.position.x < -15 || tetrahedron.position.x > 10) {
                direction_of_travel = !direction_of_travel;
            }

        };
        repeatMe();
    </script>
</body>

</html>